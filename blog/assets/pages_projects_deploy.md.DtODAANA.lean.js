import{_ as a,c as n,f as e,b as o,ao as t,o as c}from"./chunks/framework.IeBF7J3I.js";const I=JSON.parse('{"title":"可装配上线步骤的上线系统 - deploy","description":"","frontmatter":{},"headers":[],"relativePath":"pages/projects/deploy.md","filePath":"pages/projects/deploy.md","lastUpdated":1701308594000}'),l={name:"pages/projects/deploy.md"},s=o("h1",{id:"可装配上线步骤的上线系统-deploy",tabindex:"-1"},[e("可装配上线步骤的上线系统 - deploy "),o("a",{class:"header-anchor",href:"#可装配上线步骤的上线系统-deploy","aria-label":'Permalink to "可装配上线步骤的上线系统 - deploy"'},"​")],-1),d=o("p",null,[e("公司旧有的上线系统操作繁琐，需要用户多次操作才能完成。"),o("br"),e(`
并且结构固定，想要接入新的上线项目，必须要改源码才能完成。`)],-1),i=t("",1),_=o("p",null,[o("img",{src:"https://i3.letvimg.com/lc16_lemf/202311/23/15/19/Snipaste_2023-11-23_15-18-17.png",alt:"主页"})],-1),r=o("h3",{id:"一、登录",tabindex:"-1"},[e("一、登录 "),o("a",{class:"header-anchor",href:"#一、登录","aria-label":'Permalink to "一、登录"'},"​")],-1),p=o("p",null,[e("使用了"),o("code",null,"OAuth"),e("连接到了 gitlab 登录，免去了手动登录的麻烦，也不用费心思琢磨公司用的 "),o("strong",null,"LDAP"),e(" 登录")],-1),h=o("h3",{id:"二、项目列表、分支列表和-commit-列表",tabindex:"-1"},[e("二、项目列表、分支列表和 commit 列表 "),o("a",{class:"header-anchor",href:"#二、项目列表、分支列表和-commit-列表","aria-label":'Permalink to "二、项目列表、分支列表和 commit 列表"'},"​")],-1),m=o("p",null,[e("对于项目列表，因为“"),o("strong",null,"要上线的项目"),e("”和“"),o("strong",null,"我拥有的项目"),e("”不是同一个东西，因此放在数据库的表里。"),o("br"),e(`
分支列表和 commit 列表则是通过`),o("code",null,"OAuth"),e("获取到的 token，使用 gitlab 的 api 获取。")],-1),b=o("h3",{id:"三、上线步骤",tabindex:"-1"},[e("三、上线步骤 "),o("a",{class:"header-anchor",href:"#三、上线步骤","aria-label":'Permalink to "三、上线步骤"'},"​")],-1),g=o("p",null,[e("上线步骤是本系统的核心概念。"),o("br"),e(`
用户可以在“上线步骤” tab 里去增删改步骤。不管怎么改，只要符合规范，就能在不动源码的情况下，随意组合出大量复杂的、不同的上线流程。`),o("br"),e(),o("img",{src:"https://i3.letvimg.com/lc15_lemf/202311/23/16/26/Snipaste_2023-11-23_16-24-17.png",alt:"上线步骤"}),o("br"),e(`
步骤类型分为三种：`)],-1),u=o("h4",{id:"_1-固定步骤",tabindex:"-1"},[e("1.固定步骤 "),o("a",{class:"header-anchor",href:"#_1-固定步骤","aria-label":'Permalink to "1.固定步骤"'},"​")],-1),f=o("p",null,[e("预设的流程，一般用于数值、流程较为固定的步骤，比如克隆代码、"),o("code",null,"npm install"),e("、"),o("code",null,"npm run build"),e(" 等"),o("br"),e(),o("img",{src:"https://i3.letvimg.com/lc16_lemf/202311/23/16/31/Snipaste_2023-11-23_16-29-20.png",alt:""})],-1),k=o("h4",{id:"_2-命令步骤",tabindex:"-1"},[e("2.命令步骤 "),o("a",{class:"header-anchor",href:"#_2-命令步骤","aria-label":'Permalink to "2.命令步骤"'},"​")],-1),P=o("p",null,[e("可以输入要执行的 linux 命令，在服务器上直接执行填写的语句。"),o("br"),e(`
如果命令中需要参数，本项目有一些预设的参数，如项目名称、选择的分支等。
`),o("img",{src:"https://i3.letvimg.com/lc14_lemf/202311/23/16/35/Snipaste_2023-11-23_16-35-40.png",alt:""})],-1),x=o("h4",{id:"_3-特殊步骤",tabindex:"-1"},[e("3.特殊步骤 "),o("a",{class:"header-anchor",href:"#_3-特殊步骤","aria-label":'Permalink to "3.特殊步骤"'},"​")],-1),S=o("p",null,[e(`有些上线流程特殊值很多，难以通过封装的方法提取公共点，所以如有特殊情况，可去修改源码。
`),o("img",{src:"https://i1.letvimg.com/lc16_lemf/202311/23/16/36/Snipaste_2023-11-23_16-35-08.png",alt:""}),o("br"),e(`
填写完毕后，以步骤的 key 为基本，可以删除或者修改步骤的顺序。`),o("br"),e(`
对于后端来说，`),o("strong",null,"一个个步骤就是一个对象，完整的流程就是一个对象数组"),e("，和上线项目、上线分支等结合起来，就是一个完整的项目上线流程。")],-1),y=o("h3",{id:"四、执行上线与保存日志",tabindex:"-1"},[e("四、执行上线与保存日志 "),o("a",{class:"header-anchor",href:"#四、执行上线与保存日志","aria-label":'Permalink to "四、执行上线与保存日志"'},"​")],-1),T=t("",1);function A(v,V,N,D,w,B){return c(),n("div",null,[s,e(),d,e(),i,e(),_,e(),r,e(),p,e(),h,e(),m,e(),b,e(),g,e(),u,e(),f,e(),k,e(),P,e(),x,e(),S,e(),y,e(),T])}const O=a(l,[["render",A]]);export{I as __pageData,O as default};
