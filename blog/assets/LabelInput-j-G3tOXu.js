import{_ as p,I as f,m as l,r as m,o as a,g as h,n as u,c,b as E,t as v,u as _}from"./app-rZSHgSAN.js";const g={name:"LabelInput",props:{value:String,style:Object,inputStyle:Object,size:String,readOnly:Boolean,onChange:Function},data(){return{isEditing:!1}},components:{Input:f},methods:{handleEnter(){const{onChange:s,value:t}=this.$props;s&&this.$refs.inputRef.input.value!==t&&(l.success(`修改成功，最新值为： ${this.$refs.inputRef.input.value}`),s(this.$refs.inputRef.input.value)),this.isEditing=!1,document.removeEventListener("click",this.cancelEdit)},startEdit(){this.$props.readOnly||(this.isEditing=!0,setTimeout(()=>{this.$refs.inputRef.input.focus(),document.addEventListener("click",this.cancelEdit)}))},cancelEdit(s){const{onChange:t,value:e}=this.$props,{inputRef:n}=this.$refs;n&&!n.input.contains(s.target)&&(t&&n.input.value!==e&&(l.success(`修改成功，最新值为： ${n.input.value}`),t(n.input.value)),this.isEditing=!1,document.removeEventListener("click",this.cancelEdit))}}},y={key:0,class:"icon",src:"https://x0.ifengimg.com/ucms/2021_51/CBFEA224AAA021F13FB679CC0AA31703DAF88B56_size1_w48_h48.png",alt:""};function k(s,t,e,n,r,i){const o=m("Input");return r.isEditing?(a(),h(o,{key:0,ref:"inputRef",size:e.size,style:u(e.inputStyle),defaultValue:e.value,onPressEnter:i.handleEnter},null,8,["size","style","defaultValue","onPressEnter"])):(a(),c("span",{key:1,class:"labelInput",style:u(e.style),onClick:t[0]||(t[0]=(...d)=>i.startEdit&&i.startEdit(...d))},[E(v(e.value)+" ",1),e.readOnly?_("v-if",!0):(a(),c("img",y))],4))}const I=p(g,[["render",k],["__scopeId","data-v-d91cc7b0"],["__file","LabelInput.vue"]]);export{I as default};
